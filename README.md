# WB-L0 Demo Order Service

## Описание

Демонстрационный микросервис на Go для отображения данных о заказах. Сервис получает данные заказов из Kafka, сохраняет их в PostgreSQL и кэширует в памяти для быстрого доступа. Предусмотрен HTTP API и простой веб-интерфейс для просмотра информации о заказе по его ID.

## Функционал

- Получение заказов из Kafka
- Сохранение заказов в PostgreSQL
- Кэширование заказов в памяти (map)
- Восстановление кеша из БД при старте сервиса
- HTTP API для получения заказа по ID (JSON)
- Веб-страница для поиска заказа по ID

## Быстрый старт

### 1. Локальная база данных

- Создайте новую базу данных и пользователя в PostgreSQL.
- Выдайте пользователю права на созданную БД.
- Создайте таблицы согласно модели данных (см. миграции или описание моделей в `internal/models`).

### 2. Запуск Kafka

- Запустите локальный брокер Kafka (например, через Docker).

### 3. Запуск сервиса

```bash
go run ./cmd/main.go
```

### 4. HTTP API

- Получить заказ по ID:  
  `GET /api/order/{order_id}`

### 5. Веб-интерфейс

- Откройте страницу (например, `/web/index.html`), введите ID заказа и получите информацию.

## Архитектура

- **Go** — основной язык разработки
- **PostgreSQL** — хранение заказов
- **Kafka** — получение заказов из очереди
- **In-memory cache (map)** — быстрый доступ к заказам
- **HTTP сервер** — API и веб-интерфейс

## Восстановление кеша

При запуске сервис загружает актуальные заказы из БД в память для минимизации задержек при обслуживании запросов.

## Пример запроса

```bash
curl http://localhost:8080/api/order/{order_id}
```

## Требования

- Go 1.20+
- PostgreSQL
- Kafka
